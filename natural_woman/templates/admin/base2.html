<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Natural Woman Salon">
        <meta name="author" content="Immanuel Lewis">

        <!-- Custom CSS -->
        <link href="static/css/style.css" rel="stylesheet" type="text/css">

        <!-- Bootstrap Core CSS CHANGE IN PRODUCTION-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

        <!-- Font Awesome CSS CHANGE IN PRODUCTION-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

        <!-- Custom Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Lovers+Quarrel" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Fira+Sans+Condensed|Poiret+One" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Marck+Script" rel="stylesheet">

        <link rel="shortcut icon" type="image/png" href="/static/images/favicon.ico"/>

        <title>{{title}}</title>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body class="global-style" id="masterAdminManagerFader">
        <form action="#" method="POST" id="main_admin_form">
            <input type="hidden" id="btn_index" value="{{btn_index}}">
            <input type="hidden" id="frame_active" value="0">
            <input type="hidden" id="blog_active" value="0">
            <input type="hidden" id="selected_e" value="init_val">
            <input type="hidden" id="page" value="0">
            <input type="hidden" id="load_meta_model" value="{{model}}">
            <input type="hidden" id="is_restricted" value="{{restricted}}">
            <input type="hidden" id="launchBlogger" value="{{user.blog_permission}}">
        </form>

        <!-- NEW BLOG FORM (ACTIVE FROM EVERY PAGE) -->
        <div class="alert1 hidden" id="msg1">
            <div class="new_blog_wrap center_v_mode">
                <div class="frame_general_sm ">
                    <div class="login-leaf nature-green flip"><i class="fab fa-envira"></i></div>
                    <h3>New Blog Post</h3>
                    <div class="generalSteel-in">
                        <h2 class="blogger_editor"><i class="fab fa-blogger"></i></h2>
                        <form action="/auth" method="POST" id="new_blog_form">
                            <input type="hidden" name="target_model" id="target1" value="new_blog">
                            <input type="hidden" name="prev_index" value="{{btn_index}}">
                            <input type="text" name="subject" id="subject" placeholder="Subject" required>
                            <div class="blog_content_wrapper">
                                <textarea name="blog_content" id="blog_content" placeholder="Type blog content here..." required></textarea>
                            </div>
                        </form>

                        <div class="general_editor_btns">
                            <button id="target_new_blog">Post</button>
                            <button id="close-this-1">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MANAGER BUILDER -->
        <body onLoad="javascript: build_url_frame({{json_data.inactive}}, {{json_data.active}}, '{{btn_index}}');" id="frame_builder">
            <div class="alert2 hidden" id="msg2"></div> 
        </body>

        <!--EDITOR BUILDER -->
        <div class="alert3 hidden" id="msg3"></div>

<style type="text/css">
.dropdown-menu {
    background: linear-gradient(to top, rgba(206, 209, 162, 0.7), rgba(85, 88, 56, 0.7));
    margin-left: -43px;
    margin-top: 9px;
    text-align: right;
    box-shadow: 2px 2px 2px #222222;
    border-top: none;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.dropdown-menu  a {
    border-bottom: 1px solid #777777;
    *-webkit-transition: all 0.6s; 
    transition: all 0.6s;
}

.dropdown-menu  a:hover, .drpSelected a, .drpSelected a:hover  {
    background-color: rgba(225, 221, 190, 0.7);
    color: #353a07;
    font-weight: bold;
    text-shadow: none;
}

.yo {
    width: 100px;
    height: 100px;
    background-color: yellow;
}

.maze button {
    width:300px;
    background: #666666;
}


@-webkit-keyframes bgblink {
    from {background: #c1374e; }
    50% {background:#aaaaaa;}
    to {background: #c1374e; }
}
@keyframes bgblink {
    from {background: #c1374e; }
    50% {background:#aaaaaa;}
    to {background: #c1374e; }
}
.divtoBlink{
    -webkit-animation: bgblink 1s;  /* Chrome, Safari, Opera */
    -webkit-animation-iteration-count: infinite;  /* Chrome, Safari, Opera */
    opacity: 1;
    border-radius: 1px solid #ffffff;
    opacity: 0.9;
}

.flas_reg {
    padding:2px 10px;
    padding-bottom: 30px;
    border: 1px solid #333333;
    border-radius:5px;
    font-size: 11px;
    color: #000;
}

.flash-button{
    padding-top:2px;
    padding-bottom: 4px;
    border: 1px solid #333333;
    border-radius:5px;
    font-size: 11px;
    color: #000;
    
    animation-name: flash;
    animation-duration: 1s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;

    //Firefox 1+
    -webkit-animation-name: flash;
    -webkit-animation-duration: 1s;
    -webkit-animation-timing-function: linear;
    -webkit-animation-iteration-count: infinite;

    //Safari 3-4
    -moz-animation-name: flash;
    -moz-animation-duration: 1s;
    -moz-animation-timing-function: linear;
    -moz-animation-iteration-count: infinite;
}

@keyframes flash {  
    0% { background: linear-gradient(rgba(220, 220, 220, 1), rgba(193, 55, 78, 1)); ease-in; }
    50% { background: linear-gradient(rgba(220, 220, 220, 1), rgba(100, 100, 100, 0.7)); ease-in}
    100% { background: linear-gradient(rgba(220, 220, 220, 1), rgba(193, 55, 78, 1)); ease-in}
}

//Firefox 1+
@-webkit-keyframes flash {  
    0% { opacity: 1.0; }
    50% { opacity: 0.5; }
    100% { opacity: 1.0; }
}

//Safari 3-4
@-moz-keyframes flash {  
    0% { opacity: 1.0; }
    50% { opacity: 0.5; }
    100% { opacity: 1.0; }
}

.hours_message5 {
    font-size:10px;
    margin-top: 10px;
    color: #0000ff;
    font-style: italic;
}

.hours_message5 i {
    color: #ff0000;
    font-size: 7px;
    vertical-align: super;
}

</style>

<script type="text/javascript">

function soft_save(target)
{
    var proceed     = false;
    var messages    = [];
    var data        = {};
    target          = String(target);
    if (target === "Facebook" || target === "Twitter" || target === "Instagram")
    {
        var target_id   = "#pop_" + target + "_link";
        var lower       = target.toLowerCase();
        var current_id  = "#master_" + lower + "_url";
        var new_link    = $(target_id).val();
        var old_link    = $(current_id).val();
        new_link        = String(new_link);
        old_link        = String(old_link);
        var m2          = "";
        var loader      = "";
        if (new_link.length === 0) 
        { 
            m2 = "If you choose not to display a ";
            m2 += target;
            m2 += " link, you can simply deactivate it on the main Company Profile Editor in the ";
            m2 += target;
            m2 += " section of the page.";
            messages.push("This value is required"); 
            messages.push(m2);
        }
        else if (new_link === old_link) 
        { 
            m2 = "The link that you entered is identical to the current ";
            m2 += target;
            m2 += " link. No changes will be applied."
            messages.push("Identical links detected");
            messages.push(m2);
        }
        else 
        {
            proceed = true;
            loader = "#" + lower + "_site_loader";
            $(loader).attr("href", new_link);
            $(current_id).val(new_link);
        }
    }
    else if (target === "hours")
    {
        if($('#sp_on').is(':checked')) 
        {
            var special_title = $("#pop_special_hours_title").val();
            special_title = String(special_title);
            if (special_title.length === 0) {
                messages.push("You must enter a title for special hours.")
                m2 = "If you wish to post these hours as regular business hours, simply click \"Off\" for \"Special Hours\". Otherwise, you can choose a title like \"Holiday Hours\", etc."
                messages.push(m2);
            }
            else { 
                proceed = true; 
                $("#master_hours_title").val(special_title);
                $("#master_special_hours").val("True");
            }
        }
        else
        {
            proceed = true;
            $("#master_hours_title").val("Hours of Operation");
            $("#master_special_hours").val("False");
            var weekday_status  = $("#weekday_on").val();
            var weekend_status  = $("#weekend_on").val();
            weekday_status      = String(weekday_status);
            weekend_status      = String(weekend_status);
            $("#master_monday").val(encode_hours("mon"));
            $("#master_saturday").val(encode_hours("sat"));
            if (weekday_status === '0')
            {
                $("#master_tuesday").val(encode_hours("tue"));
                $("#master_wednesday").val(encode_hours("wed"));
                $("#master_thursday").val(encode_hours("thu"));
                $("#master_friday").val(encode_hours("fri"));
            }
            else 
            {
                $("#master_tuesday").val("empty");
                $("#master_wednesday").val("empty");
                $("#master_thursday").val("empty");
                $("#master_friday").val("empty");
            }
            if (weekend_status === "0")
            {
                $("#master_sunday").val(encode_hours("sun"));
            }
            else { $("#master_sunday").val("empty"); }
        }
    }
    else if (target === "address")
    {
        var address1    = $("#pop_address1").val();
        var address2    = $("#pop_address2").val();
        var address3    = $("#pop_address3").val();
        var city        = $("#pop_city").val();
        var state       = $("#pop_state").val();
        var zipcode     = $("#pop_zip").val();
        address1        = String(address1);
        address2        = String(address2);
        address3        = String(address3);
        city            = String(city);
        state           = String(state);
        zipcode         = String(zipcode);
        if (address1.length === 0 || address2=== 0 || address3 === 0)
        {
            messages.push("Empty Fields");
            messages.push("You must enter a valid street no. and street name to proceed.");
        }
        else if (city.length === 0)
        {
            messages.push("Empty Fields");
            messages.push("You must enter a valid city to proceed.");
        }
        else if (state.length === 0)
        {
            messages.push("Empty Fields");
            messages.push("You must enter a valid state to proceed.");
        }
        else if (zipcode.length === 0 || zipcode.length < 5)
        {
            messages.push("Invalid zip code");
            messages.push("You must enter a valid zip code to proceed.");
        }
        else
        {
            proceed = true;
            if (address1.length === 0) { $("#master_address1").val("empty"); }
            else { $("#master_address1").val(address1); }
            if (address2.length === 0) { $("#master_address2").val("empty"); }
            else { $("#master_address2").val(address2); }
            if (address3.length === 0) { $("#master_address3").val("empty"); }
            else { $("#master_address3").val(address3); }
            $("#master_city").val(city);
            $("#master_state").val(state);
            $("#master_zip_code").val(zipcode);
        }
    }
    else if (target === "email")
    {
        var email1  = $("#pop_email1").val();
        var email2  = $("#pop_email2").val();
        email1      = String(email1);
        email2      = String(email2);
        if (email1.length === 0 || email2.length === 0)
        {
            messages.push("Empty fields");
            messages.push("You must enter a valid email addres in each field to proceed.");
        }
        else if (email1 !== email2)
        {
            messages.push("The emails do not match");
            messages.push("You must confirm the new email address before you can proceed. The email addresses must match.");
        }
        else if (validate_email(email1) === false)
        {
            messages.push("Email 1 is Invalid");
            messages.push("Please enter a valid email address in the email 1 field.")
        }
        else if (validate_email(email2) === false)
        {
            messages.push("Email 2 is Invalid");
            messages.push("Please enter a valid email address in the email 2 field.")
        }
        else
        {
            proceed = true;
            $("#master_email").val(email1);
        }
    }
    else if (target === "phone")
    {
        var area    = $("#area_code").val();
        var pref    = $("#prefix").val();
        var post    = $("#postfix").val();
        area        = String(area);
        pref        = String(pref);
        post        = String(post);
        if (area.length === 0 || area.length < 3)
        {
            messages.push("Invalid area code");
            messages.push("You have entered an invalid area code.");
        }
        else if (pref.length === 0 || post.length === 0 || pref.length < 3 || post.length < 4)
        {
            messages.push("Invalid phone number");
            messages.push("Please enter a valid phone number to proceed.");
        }
        else
        {
            proceed = true;
            var phone = "(" + area + ") " + pref + " - " + post;
            $("#master_phone").val(phone);
        }
    }

    if (proceed === true ) { flashBtn(); $("#msg3").fadeOut(300); }
    else { alert(messages[0]); alert(messages[1]); }
    data['proceed'] = proceed;
    data['messages'] = messages;
    return data;
}

function validate_email(email)
{
    test1 = false;
    test2 = false;
    is_valid = false;
    email = String(email);
    for (var i = 0; i < email.length; i++)
    {
        if (email[i] === "@") { test1 = true; }
        if (email[i] === ".") { test2 = true; }
    }
    if (test1 === true && test2 === true) { is_valid = true; }
    return is_valid;
}

function encode_hours(target)
{
    var hours   = null;
    var base    = "#" + String(target) + "_"
    var n_o     = base + "open";
    var n_c     = base + "close";
    var n_o_s   = n_o + "_s";
    var n_c_s   = n_c + "_s";
    var open    = $(n_o).val();
    var close   = $(n_c).val();
    var open_s  = $(n_o_s).val();
    var close_s = $(n_c_s).val();
    open        = String(open);
    open_s      = String(open_s);
    close       = String(close);
    close_s     = String(close_s);

    if (open.length === 0) { hours = "Closed"; }
    else { hours = open + open_s + " - " + close + close_s; }
    return hours; 
}

</script>

        <!-- GALLERY EDITOR - THIS WILL CHANGE AND BECOME DYNAMIC IN ALERT2 -->
        <div class='alert4 hidden' id='msg4'>
            <div class="ua_wrapper center_v_mode">
                <div class="frame_general_sm">
                    <div class="login-leaf nature-green flip"><i class="fab fa-envira"></i></div>
                    <h3>Edit Gallery Images</h3>
                    <div class="generalSteel-in">
                        <h2 class="blogger_editor"><i class="fas fa-camera"></i></h2>
                        <form action="/edit_success" method="POST" id="gallery_manager_form">
                            <input type="hidden" name="target_model" id="target_action_gallery" value="gallery">
                            <input type="hidden" name="target_action" id="target_gallery">
                            <input type="hidden" name="target_id" id="target_id_gallery">
                        </form>
                        <div class="yo divtoBlink" id="" style='opacity: 0.4;'>yo</div>

                        <div class=''><button class='flash-button'>This is a button</button></div>

                        <div class="general_editor_btns">
                            <button id="auth_new_user">Not Active</button>
                            <button id="close-this-4">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="alert14 hidden" id="msg14">
            <div class="blog-manager-container">
                <div class="login-leaf nature-green flip"><i class="fab fa-envira"></i></div>
                <h3>{{message}}</h3>
                
                <div class="blog-btn-wrapper">
                    <button id="close-this-14">Close</button>
                </div>
            </div>
        </div>

        <div class="alert15 hidden" id="err">
            <div class="error_style center_v_mode">
                <div class="warning_nav">
                    <table>
                        <tr>
                            <td class="td_left">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span>warning</span>
                            </td>
                            <td class="td_right">
                                <a href="#" id="close_error_window">
                                    <i class="far fa-window-close"></i>
                                </a>
                            </td>
                        </tr>
                    </table>
                    <div class="warning_body">
                        <h1 id="error_header"></h1>

                        <div class="warning_msg_1" id="error_msg_m1"></div>
                        <div class="warning_msg_2"  id="error_msg_m2"></div>

                        <div class="warn_details">Details:</div>
                        <div class="warning_items" id="label1"></div>
                        <div class="warning_items" id="label2"></div>
                        <div class="warning_items" id="label3"></div>

                        <div class="warning_buttons">
                            <button id="obj_action"></button>
                            <button id="close-this-15">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="alert16 hidden" id="helper_element">
            <div class="helper_container center_v_mode">
                <div class="helper_data">
                    <table>
                        <tr>
                            <td class="td_left">
                                <div class="help_icon"><i class="far fa-question-circle"></i></div>
                            </td>
                            <td class="td_right">
                                <a href="javascript: close_helper_frame();">
                                    <i class="far fa-window-close"></i>
                                </a>
                            </td>
                        </tr>
                    </table>

                    <div class="helper_title" id="helper_title"></div>
                    <div class="helper_content" id="content_message">
                    </div>
                </div>
            </div>
        </div>


        <div id='master-body-fader' class='master-body-fader'>
            <nav class="navbar navbar-expand-sm" role="navigation">
                <div class="navbar-header">
                    <div class="nav-head-wrap">
                        <a href="#">
                            <div class="nature-green icon-left icon-nav"><i class="fab fa-envira"></i></div>
                            <div class="nws-brand">natural woman salon</div>
                        </a>
                    </div>
                </div>

                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="toggle-icon-style"><i class="fas fa-bars"></i></span> 
                    <!-- <span class="navbar-toggler-icon"></span> -->
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item" id="btn0">
                            <a id="adm0" href="/admin_home"><i class="fas fa-cog"></i> Tools</a>
                        </li>
                        <li class="nav-item" id="btn1"><a id="adm1" href="#"><i class="fas fa-envelope"></i> Email</a></li>
                        <li class="nav-item dropdown" id="actdpbtn">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" id="add00">
                                <i class="fas fa-user"></i> {{user.fname}} {{user.lname}}
                            </a>
                            <div class="dropdown-menu">
                                <div id="ddb1"><a class="dropdown-item" href="/set_password">Change Password</a></div>
                                <div id="ddb2"><a class="dropdown-item" href="/set_email">Change Email</a></div>
                                <div id="ddb3"><a class="dropdown-item" href="/set_name">Change Name</a></div>
                                <div id="ddb4"><a class="dropdown-item" href="#">Logout</a></div>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>

            <div class="content-wrapper btn_background" id="master_admin_fader">
                <div class="content-a">
                    <div class="admin-content-wrapper">
                        <div class="v-split-top">
                            <div class="master_head">administrative tools</div>
                            <div class="admin-h-split">
                            </div>

                            <div class="admin-h-split" id="ab1">
                                <div class="admin-item  atp_lift">
                                    <h3><i class="fab fa-blogger"></i></h3>
                                    <div class="admin-h">New Blog Post<br><span>empty</span></div>
                                </div>
                            </div>


                            <div class="admin-h-split">
                                <div class="admin-item  atp_lift" id="ab2">
                                    <h3><i class="fas fa-edit"></i></h3>
                                    <div class="admin-h">Manage Blogs<br><span>empty</span></div>
                                </div>
                            </div>

                            <div class="admin-h-split">
                                <div class="admin-item  atp_lift" id="ab3">
                                    <h3><i class="fas fa-spray-can"></i></h3>
                                    <div class="admin-h">Manage Products<br>& Pricing</div>

                                </div>
                            </div>

                            <div class="admin-h-split" id="ab4">
                                <div class="admin-item  atp_lift">
                                    <h3><i class="fas fa-camera"></i></h3>
                                    <div class="admin-h">Manage Gallery<br>Images</div>
                                </div>
                            </div>

                            <div class="admin-h-split">
                            </div>
                        </div>

                        <div class="v-split-bottom">
                            <div class="admin-h-split">
                            </div>

                            <div class="admin-h-split">
                                <div class="admin-item  abm_lift"  id="ab5">
                                    <h3 class="about_icon">A</h3>
                                    <div class="admin-h">About Statement<br><span>empty</span></div>
                                </div>
                            </div>

                            <div class="admin-h-split">
                                <div class="admin-item  abm_lift" id="ab6">
                                    <h3><i class="fas fa-mobile-alt"></i></h3>
                                    <div class="admin-h">Contact & Profile<br><span>empty</span></div>
                                </div>
                            </div>

                            <div class="admin-h-split">
                                <div class="admin-item  abm_lift" id="ab7">
                                    <h3><i class="fas fa-user-cog"></i></h3>
                                    <div class="admin-h">User Management<br><span>empty</span></div>

                                </div>
                            </div>

                            <div class="admin-h-split">
                                <div class="admin-item  abm_lift" id="ab8">
                                    <h3><i class="fas fa-user-plus"></i></h3>
                                    <div class="admin-h">Authorize New User<br><span>empty</span></div>
                                </div>
                            </div>

                            <div class="admin-h-split">
                            </div>
                        </div>
                    </div> <!--END BUTTONS -->
                    {% block content %}
                    {% endblock %}
                </div>


                <div class="copyright">
                    Copyright &copy; 2018 Natural Woman Salon Detroit. All Rights Reserved.
                </div>
            </div>
        </div>

        

        <!-- JQuery -->
        <script src="static/js/jquery-3.3.1.min.js" type="text/javascript"></script>
        
        <!-- Bootstrap Core JavaScript change in production-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>

        <!-- Custom JS -->
        <script src="static/js/script.js" type="text/javascript"></script>
    </body>
</html>